{
  "protocol_version": "1.0",
  "description": "Experimental Protocol for Nonlinear Inverse Optimization Evaluation",
  "phase_0": {
    "theta_candidates": {
      "description": "Candidate theta values to test",
      "values": [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30],
      "type": "integers"
    },
    "ground_truth_thetas": {
      "description": "Ground truth theta values for each experiment",
      "values": [10]
    },
    "loss_function": {
      "description": "Loss function used in inverse problem",
      "type": "L1",
      "formula": "L(y_hat, y_obs) = mean(|y_hat - y_obs|)"
    },
    "regularization": {
      "description": "TV regularization used in inverse problem",
      "type": "Total Variation (TV)",
      "parameter": "0.01",
      "formula": "reg = lam * mean(|Dx|) where D is difference matrix"
    },
    "optimizer": {
      "description": "SGD optimizer configuration",
      "type": "Adam",
      "learning_rate": 0.01,
      "num_iters": 1000,
      "schedule": "fixed"
    },
    "initialization": {
      "description": "Initialization method for latent x",
      "method": "noisy_ground_truth",
      "noise_std_factor": 0.05,
      "formula": "x_init = x_gt + noise_std * randn, where noise_std = 0.05 * std(x_gt)"
    },
    "knee_algorithm": {
      "description": "Knee-picking algorithm",
      "method": "slope_zero_crossing",
      "algorithm": "Compute slopes between consecutive points. Find where slopes cross zero line (from negative to positive or vice versa).",
      "reversible": true,
      "records": ["error_curves", "slopes", "slope_points"]
    },
    "model_parameters": {
      "L": 32,
      "hidden_dim": 16,
      "s": 2
    },
    "bounds": {
      "description": "Bounds for x values",
      "lower": 0.3,
      "upper": 2.0
    },
    "random_seed": {
      "description": "Random seed for reproducibility",
      "value": 42,
      "numpy": 42,
      "torch": 42,
      "python": 42
    }
  },
  "phase_1": {
    "cross_validation": {
      "description": "3-fold cross-validation for surrogate training",
      "n_folds": 3,
      "n_subjects": 15,
      "train_subjects_per_fold": 5,
      "test_subjects_per_fold": 10,
      "subject_list": ["S1", "S2", "S3", "S4", "S5", "S6", "S7", "S8", "S9", "S10", "S11", "S12", "S13", "S14", "S15"]
    },
    "monte_carlo": {
      "description": "Limited Monte Carlo for optimization stability",
      "n_inits": 3,
      "n_folds": 1,
      "n_subjects": 2
    },
    "data_ablation": {
      "description": "Data ablation study (optional)",
      "enabled": true,
      "time_windows": [60, 300, 1200, 5000],
      "n_subjects": 3
    }
  },
  "parallelization": {
    "description": "Parallelization settings",
    "use_all_cores": true,
    "n_cores": 56,
    "parallel_strategy": "multiprocessing"
  }
}

